---
bg: "Projects.jpg"
layout: post
title:  "그림 맞추기 게임 개발기 - 3"
crawlertitle: "그림 맞추기 게임 개발기 - 3"
summary: "그림 맞추기 게임(오늘 뭐 없나..?) - 3"
date: 2021-02-02 22:00:00 +0900
category: Projects
author: Err0rCode7
---

# 재작성 중에 있습니다.

## 1. 시퀀스 다이어그램은 옳다.

시퀀스 다이어그램을 적다보니 하나의 시퀀스에 모두 적기에는 어려운 부분이 생기기 시작했습니다. 하나의 시퀀스로 나누었던 것의 단위가 예상보다 더 큰 뭉치였던 것이었습니다. 그래서 이것을 더 작은 단위의 시퀀스로 나누어야 했는데 이 과정에서 부족하다고 인지하지 못했던 시퀀스에서 부족함을 느껴 다시 되돌아가 내용을 알맞게 수정 하는 경우가 생기기도 했습니다.

<p align="center">
<img src="https://user-images.githubusercontent.com/48249549/109292917-6cadd780-786e-11eb-90ff-37bf596775c5.png">
<p style="font-weight:bold" align="center">시퀀스 다이어그램 일부</p>
</p>


그리고 시퀀스를 작성하면서 난해했던 부분이 있었는데, 바로 비동기로 동작하는 시간초과의 내용을 넣는 부분이었습니다. 시간초과를 나타낼 때 시간의 생명주기를 적어넣는 것과 중간에 완료가 되는 인터럽트를 가시적으로 그리는 것이 어려웠습니다. 고민 끝에 Loop 박스와 분기를 이용하여
모두가 생각하는 최선으로 작성을 마무리 하였습니다. 전체적으로 유저가 게임에 참여하는 흐름에 따라 시퀀스를 살펴보면서 시퀀스 다이어그램의 작성이 끝나게 되었습니다.


## 2. 서비스 데이터

시퀀스 다이어그램은 작성했지만 이 내용만으로 누군가 봤을 때 클라이언트와 서버가 어떤 내용을 주고 받는 지에 대한 내용은 전혀 알 수 없었습니다. 그래서 저희 팀은 시퀀스를 따라서 어떤 데이터를 교환해야하는 지 서비스 데이터를 작성하기로 했습니다.

시퀀스를 처음부터 흐름을 순차적으로 살펴보면서 상황에 따라 어떤 데이터가 필요한지 도출해보는 방식으로 회의를 진행하기 시작했습니다. 현재 목표는 주요 기능인 그림 그리기 게임의 동작 구현이고 DB와 통신하는 부도 없고 소켓 통신으로 데이터가 오고 가고 하는 부분을 작성하면 되기 때문에 내용이 간단했습니다.

클라이언트와 서버가 소켓 통신하는 것을 이벤트 명과 Content로 나누었고 Content안에 둘이 통신하는 데이터의 타입과 변수 명을 정의했습니다.

## 마무리
---

혼자서 생각나는 대로 시퀀스를 짜기는 했는데 뭔가 놓치고 있는 기분이 든다. 구체적으로 한다고 했는데 많이 부족한 점도 있는 것 같고 혼자서 결정할 수 있는 내용이 아니다 보니 생각이 드는 대로 주저리주저리 적은 것 같다. 뭐를 놓치고 있는지 내일 있는 42서울 개인 멘토링에서 멘토님에게 상담을 받아 보고 그 내용을 바탕으로 팀원들과 시퀀스 작성에 대한 회의를 진행하는 것이 좋을 것 같다.

### 여기부턴 이전 내용

어제 오전에 42서울 이호준 멘토님에게 개인 상담과 프로젝트 상담을 받았다. 프로젝트 관련해서 물어본 내용은 진행 방식에 대한 것이였다.

질문 중 하나는 다음 회의에서 기능 시퀀스를 정해야 하는 데 어떤 방식이 좋은 지에 대한 것이였다.

멘토님은 프로젝트에서 중요한 것과 시퀀스 작성의 방향을 설명해주셨는데 프로젝트는 대부분이 문서 작업이고 나중에 서로 다르게 의사소통이 되지 않도록 모두 기록을 잘 하라는 것이였다. 그리고 시퀀스 작성의 방향에 대해서는 모두가 시퀀스에 대한 내용을 모두 똑같이 알 수 있도록 마이크로 단위로 상세히 하라는 것이였다.

이 내용을 듣고 나는 지난 프로젝트 캡슐 타임을 떠올렸다. 그 당시에 나는 팀원들과 열심히 기능의 시퀀스를 열심히 회의를 했었다. 이후에 개발에 들어가게 되었었는데 혼란이 생겼다. 이유는 시퀀스 회의 당시에 같이 이해한 내용이 모두 달랐던 것이였다. 그래서 이전 회의 기록을 찾아보았었는데, 우리 팀이 회의 하고 기록한 내용들은 더 큰 그림이였고 디테일한 내용은 의논하지 않았었다.

과거의 경험을 바탕으로 멘토님의 답변을 더 크게 이해할 수 있었다.

나는 이 내용을 회의를 시작하자마자 모두에게 얘기를 했고 우리 팀은 아주 상세히 기록하는 방향으로 시퀀스를 작성하기 시작했다.

하지만 문제가 있었는데, 상세히 기록해야하는 것은 알겠는데 그렇다면 어떻게 해야하는 것일까? 라는 질문이 문제였다.

<p align="center">
<img src="https://user-images.githubusercontent.com/48249549/106136408-9d85e880-61ac-11eb-90c9-5e2fd076abab.png">
</p>

처음에는 액셀로 글로 적으면서 진행을 했다. 메인 기능에서부터 메인 기능이 어떤 것으로 나뉘고 이런식으로 진행을 했는 데, 얼마지나지 않아서 머리가 아파오기 시작했다. 그리고 이렇게 해서는 상세히 적는 것이 어려울 것 같았다.

얘기를 계속하다가 멘토님이 담당하셨던 한 인턴분의 블로그 글에서 내용처럼 시퀀스 다이어그램이란 것을 그려보기로 했다.

<p align="center">
<img src="https://user-images.githubusercontent.com/48249549/106136564-d3c36800-61ac-11eb-99d6-a7bf73310b28.png">
</p>

처음엔 일단 그려보았는데 어디서 어떻게 뻗어나가고 해야하는 지, 어떤 걸 결정해야하는 지 혼란스러웠다. 하지만 명확하게 상세한 내용을 순서대로 기록할 수 있었다. 이 방법이라면 마이크로 단위로 적을 수 있겠다 싶었다. 하지만 작성하는 것이 시간이 걸리고 어려웠는데, 우리는 쉽게 생각할 수 있는 시퀀스부터 먼저 작성해보았고 천천히 감을 잡기 시작했다. 그렇게 아주 세밀하게 나눈 하나의 기능 시퀀스 다이어그램을 작성하였고 이어서 다음 회의 때 다른 시퀀스들도 마무리를 하기로 하고 회의를 마치었다.

무의식적으로 나는 프로젝트에서 중요한 것은 개발을 하는 것이라고 생각했다. 그 이유는 공부하는 것이 개발에 관한 언어와 기술들이라서였다. 하지만 어제의 멘토링과 현재 프로젝트를 진행하다보니 프로젝트에서 중요한 것은 협업이었다. 설계 단계에서 세밀하지 못하거나 팀원 모두가 다른 내용으로 인지하고 있다면 결과물은 오류 덩어리일지 모른다. 또는 요구사항대로 동작을 안할 수도 있다. 그렇기 때문에 꼭 상세히 기록을 남겨야한다.

많은 것을 깨닫게된 하루였다.

---

오늘은 어제 진행했던 회의 내용을 이어서 시퀀스 다이어그램을 그려나갔다.

우리팀은 우선적으로 송신과 수신부가 많은 메시지 전송부분을 작성했다. 처음에는 떠오르는대로 큰 틀을 만들기 시작했다. 유저가 전송을 시도하고 서버에서 메시지를 받는 부분을 만들기 시작했는데 순서대로 표현되는 다이어그램이다보니 `굳이 따지면 이것도 적어야 되는게 아닌가 ?` 하는 질문들이 생겨났고 더 자세히 적기 시작했다. 예를들어 유저가 `메세지 전송 시도`를 하기 전에는 유저가 채팅 입력창에 `문자를 입력`하는 시퀀스가 필요했다.
<p align="center">
<img src="https://user-images.githubusercontent.com/48249549/106276552-18b5d000-627b-11eb-8451-d230a4a7202f.png">
</p>

이 방식대로 적어나가다보니 이 시퀀스 다이어그램을 적는 것은 정말 상세히 적어야 되는 것이라고 생각이 들었다. 하나둘 적다보니 `조건문은 어떤 식으로 적어야 할까?` 라는 의문이 들었는데 우리 팀은 상세히 적기로 했다. 그래서 프레임을 나타내는 박스를 이용해서 조건을 적고 박스 안에 시퀀스를 적었다. 이렇게 상세히 적어나가다 보니 박스 안에 내용이 많아지게 되었는데, 하나의 시퀀스 다이어그램으로 모두 표현하기보다는 자세한 시퀀스에 대한 부분은 다음 시퀀스 다이어그램으로 연결하여 보여주는 방식이 좋아보였다.
<p align="center">
<img src="https://user-images.githubusercontent.com/48249549/106276536-12bfef00-627b-11eb-8424-4bcdf5886142.png">
</p>
모두의 의견이 대립되면서 시퀀스를 정하는 작업이다보니 생각보다 시간이 오래걸리고 사전에 생각하지 못한 시퀀스들을 떠올리게 되면서 더 자세히 적어지게 되었다. 우리팀은 시퀀스의 양이 상당히 많을 것으로 생각이 들어 게임의 메인 부분인 하나의 게임방이 동작할 수 있는 시퀀스만 먼저 작성하고 그 부분만 개발을 한번 해보는 방식으로 의견을 조율하였다. 아무래도 다음 회의와 다다음 회의에서도 시퀀스 다이어그램 작업은 마무리 되지 못할 것으로 생각이 든다. 아마도 다음 포스팅은 시퀀스 다이어그램과 개발 역할 분담이 끝나면 이어서 진행을 해야할 것 같다.